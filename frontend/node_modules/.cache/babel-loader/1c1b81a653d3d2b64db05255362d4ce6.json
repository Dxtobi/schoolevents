{"ast":null,"code":"import _slicedToArray from\"E:/003_Personal_Portfolio/Experimental/event-manager/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import MainScreen from\"../../components/MainScreen\";import{Button,Card,Form,Col,Row}from\"react-bootstrap\";import{useDispatch,useSelector}from\"react-redux\";import{createEventAction}from\"../../actions/eventsAction\";import Loading from\"../../components/Loading/Loading\";import ErrorMessage from\"../../components/ErroMessage/ErrorMessage\";import ReactMarkdown from\"react-markdown\";import'./SingleEvent.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CreateEvent(_ref){var history=_ref.history;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),category=_useState6[0],setCategory=_useState6[1];var _useState7=useState(\"https://res.cloudinary.com/practicaldev/image/fetch/s--P-zvMTgt--/c_imagga_scale,f_auto,fl_progressive,h_900,q_auto,w_1600/https://dev-to-uploads.s3.amazonaws.com/i/qyix6eyhrnc8x9c44yp2.jpg\"),_useState8=_slicedToArray(_useState7,2),pic=_useState8[0],setPic=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),picMessage=_useState10[0],setPicMessage=_useState10[1];var dispatch=useDispatch();var eventCreate=useSelector(function(state){return state.eventCreate;});var loading=eventCreate.loading,error=eventCreate.error,event=eventCreate.event;console.log(event);console.log(pic);var resetHandler=function resetHandler(){setTitle(\"\");setCategory(\"\");setContent(\"\");};var postDetails=function postDetails(pics){if(!pics){return setPicMessage('Please select an image');}setPicMessage(null);if(pics.type==='image/jpeg'||pics.type==='image/png'){var data=new FormData();data.append('file',pics);data.append('upload_preset','eventx');data.append('cloud_name','dyl8nylbd');fetch('https://api.cloudinary.com/v1_1/dyl8nylbd/image/upload',{method:'post',body:data}).then(function(res){return res.json();}).then(function(data){console.log(data);setPic(data.url.toString());}).catch(function(err){console.log(err);});}else{return setPicMessage('Please select an image');}};var submitHandler=function submitHandler(e){e.preventDefault();dispatch(createEventAction(title,content,category,pic));if(!title||!content||!category)return;resetHandler();history.push(\"/myevents\");};useEffect(function(){},[]);return/*#__PURE__*/_jsx(MainScreen,{title:\"Create an Event\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:\"Create a new Event\"}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Row,{className:\"eventContainer\",children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[error&&/*#__PURE__*/_jsx(ErrorMessage,{variant:\"danger\",children:error}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"title\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Title\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"title\",value:title,placeholder:\"Enter the title\",onChange:function onChange(e){return setTitle(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"content\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Content\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",value:content,placeholder:\"Enter the content\",rows:4,onChange:function onChange(e){return setContent(e.target.value);}})]}),content&&/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:\"Event Preview\"}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(ReactMarkdown,{children:content})})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"content\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Category\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"content\",value:category,placeholder:\"Enter the Category\",onChange:function onChange(e){return setCategory(e.target.value);}})]}),picMessage&&/*#__PURE__*/_jsx(ErrorMessage,{variant:\"danger\",children:picMessage}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"pic\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Event Picture\"}),/*#__PURE__*/_jsx(Form.File,{onChange:function onChange(e){return postDetails(e.target.files[0]);},id:\"custom-file\",type:\"image/png\",label:\"Upload Event Picture\",custom:true})]}),loading&&/*#__PURE__*/_jsx(Loading,{size:50}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",style:{marginTop:10},children:\"Create Event\"}),/*#__PURE__*/_jsx(Button,{className:\"mx-2\",onClick:resetHandler,variant:\"danger\",style:{marginTop:10},children:\"Reset Fields\"})]})}),/*#__PURE__*/_jsx(Col,{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(\"img\",{src:pic,alt:title,className:\"eventPic\"})})]})}),/*#__PURE__*/_jsxs(Card.Footer,{className:\"text-muted\",children:[\"Creating on - \",new Date().toLocaleDateString()]})]})});}export default CreateEvent;;","map":{"version":3,"sources":["E:/003_Personal_Portfolio/Experimental/event-manager/frontend/src/screens/SingleEvent/CreateEvent.jsx"],"names":["React","useEffect","useState","MainScreen","Button","Card","Form","Col","Row","useDispatch","useSelector","createEventAction","Loading","ErrorMessage","ReactMarkdown","CreateEvent","history","title","setTitle","content","setContent","category","setCategory","pic","setPic","picMessage","setPicMessage","dispatch","eventCreate","state","loading","error","event","console","log","resetHandler","postDetails","pics","type","data","FormData","append","fetch","method","body","then","res","json","url","toString","catch","err","submitHandler","e","preventDefault","push","target","value","files","marginTop","display","alignItems","justifyContent","Date","toLocaleDateString"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport MainScreen from \"../../components/MainScreen\";\r\nimport { Button, Card, Form, Col, Row } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { createEventAction } from \"../../actions/eventsAction\";\r\nimport Loading from \"../../components/Loading/Loading\";\r\nimport ErrorMessage from \"../../components/ErroMessage/ErrorMessage\";\r\nimport ReactMarkdown from \"react-markdown\";\r\n\r\nimport './SingleEvent.css';\r\n\r\nfunction CreateEvent ( { history } ) {\r\n    const [ title, setTitle ] = useState( \"\" );\r\n    const [ content, setContent ] = useState( \"\" );\r\n    const [ category, setCategory ] = useState( \"\" );\r\n    const [ pic, setPic ] = useState(\r\n        \"https://res.cloudinary.com/practicaldev/image/fetch/s--P-zvMTgt--/c_imagga_scale,f_auto,fl_progressive,h_900,q_auto,w_1600/https://dev-to-uploads.s3.amazonaws.com/i/qyix6eyhrnc8x9c44yp2.jpg\"\r\n    );\r\n    const [ picMessage, setPicMessage ] = useState( null );\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const eventCreate = useSelector( ( state ) => state.eventCreate );\r\n    const { loading, error, event } = eventCreate;\r\n\r\n    console.log( event );\r\n    console.log( pic );\r\n\r\n    const resetHandler = () => {\r\n        setTitle( \"\" );\r\n        setCategory( \"\" );\r\n        setContent( \"\" );\r\n    };\r\n\r\n\r\n\r\n    const postDetails = ( pics ) => {\r\n        if ( !pics ) {\r\n            return setPicMessage( 'Please select an image' );\r\n        }\r\n        setPicMessage( null );\r\n\r\n        if ( pics.type === 'image/jpeg' || pics.type === 'image/png' ) {\r\n            const data = new FormData();\r\n            data.append( 'file', pics );\r\n            data.append( 'upload_preset', 'eventx' );\r\n            data.append( 'cloud_name', 'dyl8nylbd' );\r\n            fetch( 'https://api.cloudinary.com/v1_1/dyl8nylbd/image/upload', {\r\n                method: 'post',\r\n                body: data\r\n            } ).then( ( res ) => res.json() ).then( ( data ) => {\r\n                console.log( data );\r\n                setPic( data.url.toString() );\r\n            } ).catch( ( err ) => {\r\n                console.log( err );\r\n            } );\r\n        } else {\r\n            return setPicMessage( 'Please select an image' );\r\n        }\r\n\r\n    };\r\n\r\n\r\n    const submitHandler = ( e ) => {\r\n        e.preventDefault();\r\n        dispatch( createEventAction( title, content, category, pic ) );\r\n        if ( !title || !content || !category ) return;\r\n\r\n        resetHandler();\r\n        history.push( \"/myevents\" );\r\n    };\r\n\r\n    useEffect( () => { }, [] );\r\n\r\n    return (\r\n        <MainScreen title=\"Create an Event\">\r\n            <Card>\r\n                <Card.Header>Create a new Event</Card.Header>\r\n                <Card.Body>\r\n                    <Row className=\"eventContainer\">\r\n                        <Col md={ 6 }>\r\n                            <Form onSubmit={ submitHandler }>\r\n                                { error && <ErrorMessage variant=\"danger\">{ error }</ErrorMessage> }\r\n                                <Form.Group controlId=\"title\">\r\n                                    <Form.Label>Title</Form.Label>\r\n                                    <Form.Control\r\n                                        type=\"title\"\r\n                                        value={ title }\r\n                                        placeholder=\"Enter the title\"\r\n                                        onChange={ ( e ) => setTitle( e.target.value ) }\r\n                                    />\r\n                                </Form.Group>\r\n\r\n                                <Form.Group controlId=\"content\">\r\n                                    <Form.Label>Content</Form.Label>\r\n                                    <Form.Control\r\n                                        as=\"textarea\"\r\n                                        value={ content }\r\n                                        placeholder=\"Enter the content\"\r\n                                        rows={ 4 }\r\n                                        onChange={ ( e ) => setContent( e.target.value ) }\r\n                                    />\r\n                                </Form.Group>\r\n                                { content && (\r\n                                    <Card>\r\n                                        <Card.Header>Event Preview</Card.Header>\r\n                                        <Card.Body>\r\n                                            <ReactMarkdown>{ content }</ReactMarkdown>\r\n                                        </Card.Body>\r\n                                    </Card>\r\n                                ) }\r\n\r\n                                <Form.Group controlId=\"content\">\r\n                                    <Form.Label>Category</Form.Label>\r\n                                    <Form.Control\r\n                                        type=\"content\"\r\n                                        value={ category }\r\n                                        placeholder=\"Enter the Category\"\r\n                                        onChange={ ( e ) => setCategory( e.target.value ) }\r\n                                    />\r\n                                </Form.Group>\r\n                                { picMessage && (\r\n                                    <ErrorMessage variant=\"danger\">{ picMessage }</ErrorMessage>\r\n                                ) }\r\n                                <Form.Group controlId=\"pic\">\r\n                                    <Form.Label>Event Picture</Form.Label>\r\n                                    <Form.File\r\n                                        onChange={ ( e ) => postDetails( e.target.files[ 0 ] ) }\r\n                                        id=\"custom-file\"\r\n                                        type=\"image/png\"\r\n                                        label=\"Upload Event Picture\"\r\n                                        custom\r\n                                    />\r\n                                </Form.Group>\r\n                                { loading && <Loading size={ 50 } /> }\r\n                                <Button type=\"submit\" variant=\"primary\" style={ { marginTop: 10 } }>\r\n                                    Create Event\r\n                                </Button>\r\n                                <Button className=\"mx-2\" onClick={ resetHandler } variant=\"danger\" style={ { marginTop: 10 } } >\r\n                                    Reset Fields\r\n                                </Button>\r\n                            </Form>\r\n                        </Col>\r\n                        <Col\r\n                            style={ {\r\n                                display: \"flex\",\r\n                                alignItems: \"center\",\r\n                                justifyContent: \"center\",\r\n                            } }\r\n                        >\r\n                            <img src={ pic } alt={ title } className=\"eventPic\" />\r\n                        </Col>\r\n                    </Row>\r\n                </Card.Body>\r\n                <Card.Footer className=\"text-muted\">\r\n                    Creating on - { new Date().toLocaleDateString() }\r\n                </Card.Footer>\r\n            </Card>\r\n        </MainScreen>\r\n    );\r\n}\r\n\r\nexport default CreateEvent;;"]},"metadata":{},"sourceType":"module"}