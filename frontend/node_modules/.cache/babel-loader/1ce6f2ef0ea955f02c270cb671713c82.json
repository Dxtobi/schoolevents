{"ast":null,"code":"import React,{useEffect}from'react';import MainScreen from'../../components/MainScreen';import{Link}from'react-router-dom';import{Accordion,Badge,Button,Card,Col,Row}from'react-bootstrap';import'./MyEvents.css';import{useDispatch,useSelector}from\"react-redux\";import{deleteEventAction,listEvents}from\"../../actions/eventsAction\";import Loading from\"../../components/Loading/Loading\";import ErrorMessage from\"../../components/ErroMessage/ErrorMessage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyEvents=function MyEvents(_ref){var history=_ref.history,search=_ref.search;var dispatch=useDispatch();var eventList=useSelector(function(state){return state.eventList;});var loading=eventList.loading,error=eventList.error,events=eventList.events;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var eventDelete=useSelector(function(state){return state.eventDelete;});var loadingDelete=eventDelete.loading,errorDelete=eventDelete.error,successDelete=eventDelete.success;var eventCreate=useSelector(function(state){return state.eventCreate;});var successCreate=eventCreate.success;var eventUpdate=useSelector(function(state){return state.eventUpdate;});var successUpdate=eventUpdate.success;useEffect(function(){dispatch(listEvents());if(!userInfo){history===null||history===void 0?void 0:history.push(\"/\");}},[dispatch,history,userInfo,successDelete,successCreate,successUpdate]);var deleteHandler=function deleteHandler(id){if(window.confirm(\"Are you sure?\")){dispatch(deleteEventAction(id));}};return/*#__PURE__*/_jsxs(MainScreen,{title:\"Hi \".concat(userInfo===null||userInfo===void 0?void 0:userInfo.name,\".\"),children:[/*#__PURE__*/_jsx(Link,{to:\"/createevent\",children:/*#__PURE__*/_jsx(Button,{styles:{marginLeft:10,marginBottom:6},size:\"lg\",children:\"Create New Event\"})}),error&&/*#__PURE__*/_jsx(ErrorMessage,{variant:\"danger\"}),loading&&/*#__PURE__*/_jsx(Loading,{}),events&&events.filter(function(filteredEvent){return filteredEvent.title.toLowerCase().includes(search.toLowerCase());}).reverse().map(function(event){return/*#__PURE__*/_jsx(Accordion,{children:/*#__PURE__*/_jsxs(Card,{style:{margin:10},children:[/*#__PURE__*/_jsxs(Card.Header,{style:{display:'flex'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'black',textDecoration:'none',flex:1,cursor:'pointer',alignSelf:'center',fontSize:18},children:/*#__PURE__*/_jsx(Accordion.Toggle,{as:Link,variant:\"link\",eventKey:\"0\",children:event.title})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{href:\"/event/\".concat(event._id),children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{className:\"mx-2\",variant:\"danger\",onClick:function onClick(){return deleteHandler(event._id);},children:\"Delete\"})]})]}),/*#__PURE__*/_jsx(Accordion.Collapse,{eventKey:\"0\",children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Row,{className:\"eventBodyContainer\",children:[/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsxs(Badge,{variant:\"success\",children:[\" Event category: \",event.category]})}),/*#__PURE__*/_jsxs(\"blockquote\",{className:\"blockquote mb-0\",children:[/*#__PURE__*/_jsx(\"p\",{children:event.content}),/*#__PURE__*/_jsxs(\"footer\",{className:\"blockquote-footer\",children:[\"Created on\",\" \",/*#__PURE__*/_jsx(\"cite\",{title:\"Source Title\",children:event.createdAt.substring(0,10)})]})]})]}),/*#__PURE__*/_jsx(Col,{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(\"img\",{src:event.pic,alt:event.name,className:\"eventPic\",style:{width:420,height:420}})})]})})})]})},event._id);})]});};export default MyEvents;","map":{"version":3,"sources":["E:/003_Personal_Portfolio/Experimental/evenx-main/frontend/src/screens/MyEvents/MyEvents.jsx"],"names":["React","useEffect","MainScreen","Link","Accordion","Badge","Button","Card","Col","Row","useDispatch","useSelector","deleteEventAction","listEvents","Loading","ErrorMessage","MyEvents","history","search","dispatch","eventList","state","loading","error","events","userLogin","userInfo","eventDelete","loadingDelete","errorDelete","successDelete","success","eventCreate","successCreate","eventUpdate","successUpdate","push","deleteHandler","id","window","confirm","name","marginLeft","marginBottom","filter","filteredEvent","title","toLowerCase","includes","reverse","map","event","margin","display","color","textDecoration","flex","cursor","alignSelf","fontSize","_id","category","content","createdAt","substring","alignItems","justifyContent","pic","width","height"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport MainScreen from '../../components/MainScreen';\r\nimport { Link } from 'react-router-dom';\r\nimport { Accordion, Badge, Button, Card, Col, Row } from 'react-bootstrap';\r\n\r\nimport './MyEvents.css';\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { deleteEventAction, listEvents } from \"../../actions/eventsAction\";\r\nimport Loading from \"../../components/Loading/Loading\";\r\nimport ErrorMessage from \"../../components/ErroMessage/ErrorMessage\";\r\n\r\n\r\nconst MyEvents = ( { history, search } ) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const eventList = useSelector( ( state ) => state.eventList );\r\n    const { loading, error, events } = eventList;\r\n\r\n\r\n    const userLogin = useSelector( ( state ) => state.userLogin );\r\n    const { userInfo } = userLogin;\r\n\r\n    const eventDelete = useSelector( ( state ) => state.eventDelete );\r\n    const {\r\n        loading: loadingDelete,\r\n        error: errorDelete,\r\n        success: successDelete,\r\n    } = eventDelete;\r\n\r\n    const eventCreate = useSelector( ( state ) => state.eventCreate );\r\n    const { success: successCreate } = eventCreate;\r\n\r\n    const eventUpdate = useSelector( ( state ) => state.eventUpdate );\r\n    const { success: successUpdate } = eventUpdate;\r\n\r\n    useEffect( () => {\r\n        dispatch( listEvents() );\r\n        if ( !userInfo ) {\r\n            history?.push( \"/\" );\r\n        }\r\n    }, [\r\n        dispatch,\r\n        history,\r\n        userInfo,\r\n        successDelete,\r\n        successCreate,\r\n        successUpdate,\r\n    ] );\r\n\r\n    const deleteHandler = ( id ) => {\r\n        if ( window.confirm( \"Are you sure?\" ) ) {\r\n            dispatch( deleteEventAction( id ) );\r\n        }\r\n    };\r\n    return (\r\n        <MainScreen title={ `Hi ${ userInfo?.name }.` }>\r\n            <Link to='/createevent'>\r\n                <Button\r\n                    styles={ { marginLeft: 10, marginBottom: 6 } }\r\n                    size='lg'\r\n                >\r\n                    Create New Event\r\n                </Button>\r\n            </Link>\r\n            { error && <ErrorMessage variant='danger' /> }\r\n            { loading && <Loading /> }\r\n            { events && events.filter( ( filteredEvent ) =>\r\n                filteredEvent.title.toLowerCase().includes( search.toLowerCase() ) ).reverse().map( ( event ) => {\r\n                    return <Accordion key={ event._id }>\r\n                        <Card style={ { margin: 10 } }>\r\n                            <Card.Header style={ { display: 'flex' } }>\r\n                                <span style={ {\r\n                                    color: 'black',\r\n                                    textDecoration: 'none',\r\n                                    flex: 1,\r\n                                    cursor: 'pointer',\r\n                                    alignSelf: 'center',\r\n                                    fontSize: 18,\r\n\r\n                                } }\r\n                                >\r\n                                    <Accordion.Toggle\r\n                                        as={ Link }\r\n                                        variant='link'\r\n                                        eventKey='0'\r\n                                    >\r\n                                        { event.title }\r\n                                    </Accordion.Toggle>\r\n                                </span>\r\n                                <div>\r\n                                    <Button\r\n                                        href={ `/event/${ event._id }` }\r\n                                    >\r\n                                        Edit\r\n                                    </Button>\r\n                                    <Button\r\n                                        className='mx-2'\r\n                                        variant='danger'\r\n                                        onClick={ () => deleteHandler( event._id ) }\r\n                                    >\r\n                                        Delete</Button>\r\n                                </div>\r\n                            </Card.Header>\r\n                            <Accordion.Collapse eventKey='0'>\r\n                                <Card.Body>\r\n                                    <Row className=\"eventBodyContainer\">\r\n                                        <Col md={ 6 }>\r\n                                            <h4>\r\n                                                <Badge variant='success'> Event category: { event.category }</Badge>\r\n                                            </h4>\r\n                                            <blockquote className=\"blockquote mb-0\">\r\n                                                <p>\r\n                                                    { event.content }\r\n                                                </p>\r\n                                                <footer className=\"blockquote-footer\">\r\n                                                    Created on{ \" \" }\r\n                                                    <cite title=\"Source Title\">\r\n                                                        { event.createdAt.substring( 0, 10 ) }\r\n                                                    </cite>\r\n                                                </footer>\r\n                                            </blockquote>\r\n                                        </Col>\r\n                                        <Col\r\n                                            style={ {\r\n                                                display: \"flex\",\r\n                                                alignItems: \"center\",\r\n                                                justifyContent: \"center\",\r\n                                            } }\r\n                                        >\r\n                                            <img\r\n                                                src={ event.pic }\r\n                                                alt={ event.name }\r\n                                                className=\"eventPic\"\r\n                                                style={ { width: 420, height: 420 } }\r\n                                            />\r\n                                        </Col>\r\n                                    </Row>\r\n                                </Card.Body>\r\n                            </Accordion.Collapse>\r\n                        </Card>\r\n                    </Accordion>;\r\n                } ) }\r\n        </MainScreen >\r\n    );\r\n};\r\n\r\nexport default MyEvents;\r\n"]},"metadata":{},"sourceType":"module"}