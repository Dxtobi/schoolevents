{"ast":null,"code":"import _regeneratorRuntime from\"E:/003_Personal_Portfolio/Experimental/event-manager/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/003_Personal_Portfolio/Experimental/event-manager/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/003_Personal_Portfolio/Experimental/event-manager/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import MainScreen from\"../../components/MainScreen\";import axios from\"axios\";import{Button,Card,Form,Row,Col}from\"react-bootstrap\";import{useDispatch,useSelector}from\"react-redux\";import{deleteEventAction,updateEventAction}from\"../../actions/eventsAction\";import ErrorMessage from\"../../components/ErroMessage/ErrorMessage\";import Loading from\"../../components/Loading/Loading\";import ReactMarkdown from\"react-markdown\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SingleEvent(_ref){var match=_ref.match,history=_ref.history;var _useState=useState(),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),category=_useState6[0],setCategory=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),date=_useState8[0],setDate=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),pic=_useState10[0],setPic=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),picMessage=_useState12[0],setPicMessage=_useState12[1];var dispatch=useDispatch();var eventUpdate=useSelector(function(state){return state.eventUpdate;});var loading=eventUpdate.loading,error=eventUpdate.error;var eventDelete=useSelector(function(state){return state.eventDelete;});var loadingDelete=eventDelete.loading,errorDelete=eventDelete.error;var deleteHandler=function deleteHandler(id){if(window.confirm(\"Are you sure?\")){dispatch(deleteEventAction(id));}history.push(\"/myevents\");};useEffect(function(){var fetching=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/events/\".concat(match.params.id));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setTitle(data.title);setContent(data.content);setCategory(data.category);setDate(data.updatedAt);setPic(data.pic);case 9:case\"end\":return _context.stop();}}},_callee);}));return function fetching(){return _ref2.apply(this,arguments);};}();fetching();},[match.params.id,date]);var resetHandler=function resetHandler(){setTitle(\"\");setCategory(\"\");setContent(\"\");};var postDetails=function postDetails(pics){setPicMessage(null);if(pics.type===\"image/jpeg\"||pics.type===\"image/png\"){var data=new FormData();data.append(\"file\",pics);data.append(\"upload_preset\",\"eventx\");data.append(\"cloud_name\",\"dyl8nylbd\");fetch(\"https://api.cloudinary.com/v1_1/dyl8nylbd/image/upload\",{method:\"post\",body:data}).then(function(res){return res.json();}).then(function(data){setPic(data.url.toString());console.log(pic);}).catch(function(err){console.log(err);});}else{return setPicMessage(\"Please Select an Image\");}};var updateHandler=function updateHandler(e){e.preventDefault();dispatch(updateEventAction(match.params.id,title,content,category,pic));if(!title||!content||!category||!pic)return;resetHandler();history.push(\"/myevents\");};return/*#__PURE__*/_jsx(MainScreen,{title:\"Edit Event\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:\"Edit your Event\"}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Row,{className:\"eventContainer\",children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form,{onSubmit:updateHandler,children:[loadingDelete&&/*#__PURE__*/_jsx(Loading,{}),error&&/*#__PURE__*/_jsx(ErrorMessage,{variant:\"danger\",children:error}),errorDelete&&/*#__PURE__*/_jsx(ErrorMessage,{variant:\"danger\",children:errorDelete}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"title\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Title\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"title\",placeholder:\"Enter the title\",value:title,onChange:function onChange(e){return setTitle(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"content\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Content\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",placeholder:\"Enter the content\",rows:4,value:content,onChange:function onChange(e){return setContent(e.target.value);}})]}),content&&/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:\"Event Preview\"}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(ReactMarkdown,{children:content})})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"content\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Category\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"content\",placeholder:\"Enter the Category\",value:category,onChange:function onChange(e){return setCategory(e.target.value);}})]}),picMessage&&/*#__PURE__*/_jsx(ErrorMessage,{variant:\"danger\",children:picMessage}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"pic\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Change Event Picture\"}),/*#__PURE__*/_jsx(Form.File,{onChange:function onChange(e){return postDetails(e.target.files[0]);},id:\"custom-file\",type:\"image/png\",label:\"Upload Event Picture\",custom:true})]}),loading&&/*#__PURE__*/_jsx(Loading,{size:50}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",style:{marginTop:10},children:\"Update Event\"}),/*#__PURE__*/_jsx(Button,{className:\"mx-2\",variant:\"danger\",onClick:function onClick(){return deleteHandler(match.params.id);},style:{marginTop:10},children:\"Delete Event\"})]})}),/*#__PURE__*/_jsx(Col,{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(\"img\",{src:pic,alt:title,className:\"eventPic\"})})]})}),/*#__PURE__*/_jsxs(Card.Footer,{className:\"text-muted\",children:[\"Updated on - \",date.substring(0,10)]})]})});}export default SingleEvent;;","map":{"version":3,"sources":["E:/003_Personal_Portfolio/Experimental/event-manager/frontend/src/screens/SingleEvent/SingleEvent.jsx"],"names":["React","useEffect","useState","MainScreen","axios","Button","Card","Form","Row","Col","useDispatch","useSelector","deleteEventAction","updateEventAction","ErrorMessage","Loading","ReactMarkdown","SingleEvent","match","history","title","setTitle","content","setContent","category","setCategory","date","setDate","pic","setPic","picMessage","setPicMessage","dispatch","eventUpdate","state","loading","error","eventDelete","loadingDelete","errorDelete","deleteHandler","id","window","confirm","push","fetching","get","params","data","updatedAt","resetHandler","postDetails","pics","type","FormData","append","fetch","method","body","then","res","json","url","toString","console","log","catch","err","updateHandler","e","preventDefault","target","value","files","marginTop","display","alignItems","justifyContent","substring"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport MainScreen from \"../../components/MainScreen\";\r\nimport axios from \"axios\";\r\nimport { Button, Card, Form, Row, Col } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { deleteEventAction, updateEventAction } from \"../../actions/eventsAction\";\r\nimport ErrorMessage from \"../../components/ErroMessage/ErrorMessage\";\r\nimport Loading from \"../../components/Loading/Loading\";\r\nimport ReactMarkdown from \"react-markdown\";\r\n\r\nfunction SingleEvent ( { match, history } ) {\r\n    const [ title, setTitle ] = useState();\r\n    const [ content, setContent ] = useState();\r\n    const [ category, setCategory ] = useState();\r\n    const [ date, setDate ] = useState( \"\" );\r\n    const [ pic, setPic ] = useState();\r\n    const [ picMessage, setPicMessage ] = useState();\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const eventUpdate = useSelector( ( state ) => state.eventUpdate );\r\n    const { loading, error } = eventUpdate;\r\n\r\n    const eventDelete = useSelector( ( state ) => state.eventDelete );\r\n    const { loading: loadingDelete, error: errorDelete } = eventDelete;\r\n\r\n    const deleteHandler = ( id ) => {\r\n        if ( window.confirm( \"Are you sure?\" ) ) {\r\n            dispatch( deleteEventAction( id ) );\r\n        }\r\n        history.push( \"/myevents\" );\r\n    };\r\n\r\n    useEffect( () => {\r\n        const fetching = async () => {\r\n            const { data } = await axios.get( `/api/events/${ match.params.id }` );\r\n\r\n            setTitle( data.title );\r\n            setContent( data.content );\r\n            setCategory( data.category );\r\n            setDate( data.updatedAt );\r\n            setPic( data.pic );\r\n        };\r\n\r\n        fetching();\r\n    }, [ match.params.id, date ] );\r\n\r\n    const resetHandler = () => {\r\n        setTitle( \"\" );\r\n        setCategory( \"\" );\r\n        setContent( \"\" );\r\n    };\r\n\r\n    const postDetails = ( pics ) => {\r\n        setPicMessage( null );\r\n        if ( pics.type === \"image/jpeg\" || pics.type === \"image/png\" ) {\r\n            const data = new FormData();\r\n            data.append( \"file\", pics );\r\n            data.append( \"upload_preset\", \"eventx\" );\r\n            data.append( \"cloud_name\", \"dyl8nylbd\" );\r\n            fetch( \"https://api.cloudinary.com/v1_1/dyl8nylbd/image/upload\", {\r\n                method: \"post\",\r\n                body: data,\r\n            } )\r\n                .then( ( res ) => res.json() )\r\n                .then( ( data ) => {\r\n                    setPic( data.url.toString() );\r\n                    console.log( pic );\r\n                } )\r\n                .catch( ( err ) => {\r\n                    console.log( err );\r\n                } );\r\n        } else {\r\n            return setPicMessage( \"Please Select an Image\" );\r\n        }\r\n    };\r\n\r\n    const updateHandler = ( e ) => {\r\n        e.preventDefault();\r\n        dispatch( updateEventAction( match.params.id, title, content, category, pic ) );\r\n        if ( !title || !content || !category || !pic ) return;\r\n\r\n        resetHandler();\r\n        history.push( \"/myevents\" );\r\n    };\r\n\r\n    return (\r\n        <MainScreen title=\"Edit Event\">\r\n            <Card>\r\n                <Card.Header>Edit your Event</Card.Header>\r\n                <Card.Body>\r\n                    <Row className=\"eventContainer\">\r\n                        <Col md={ 6 }>\r\n                            <Form onSubmit={ updateHandler }>\r\n                                { loadingDelete && <Loading /> }\r\n                                { error && <ErrorMessage variant=\"danger\">{ error }</ErrorMessage> }\r\n                                { errorDelete && (\r\n                                    <ErrorMessage variant=\"danger\">{ errorDelete }</ErrorMessage>\r\n                                ) }\r\n                                <Form.Group controlId=\"title\">\r\n                                    <Form.Label>Title</Form.Label>\r\n                                    <Form.Control\r\n                                        type=\"title\"\r\n                                        placeholder=\"Enter the title\"\r\n                                        value={ title }\r\n                                        onChange={ ( e ) => setTitle( e.target.value ) }\r\n                                    />\r\n                                </Form.Group>\r\n\r\n                                <Form.Group controlId=\"content\">\r\n                                    <Form.Label>Content</Form.Label>\r\n                                    <Form.Control\r\n                                        as=\"textarea\"\r\n                                        placeholder=\"Enter the content\"\r\n                                        rows={ 4 }\r\n                                        value={ content }\r\n                                        onChange={ ( e ) => setContent( e.target.value ) }\r\n                                    />\r\n                                </Form.Group>\r\n                                { content && (\r\n                                    <Card>\r\n                                        <Card.Header>Event Preview</Card.Header>\r\n                                        <Card.Body>\r\n                                            <ReactMarkdown>{ content }</ReactMarkdown>\r\n                                        </Card.Body>\r\n                                    </Card>\r\n                                ) }\r\n\r\n                                <Form.Group controlId=\"content\">\r\n                                    <Form.Label>Category</Form.Label>\r\n                                    <Form.Control\r\n                                        type=\"content\"\r\n                                        placeholder=\"Enter the Category\"\r\n                                        value={ category }\r\n                                        onChange={ ( e ) => setCategory( e.target.value ) }\r\n                                    />\r\n                                </Form.Group>\r\n                                { picMessage && (\r\n                                    <ErrorMessage variant=\"danger\">{ picMessage }</ErrorMessage>\r\n                                ) }\r\n                                <Form.Group controlId=\"pic\">\r\n                                    <Form.Label>Change Event Picture</Form.Label>\r\n                                    <Form.File\r\n                                        onChange={ ( e ) => postDetails( e.target.files[ 0 ] ) }\r\n                                        id=\"custom-file\"\r\n                                        type=\"image/png\"\r\n                                        label=\"Upload Event Picture\"\r\n                                        custom\r\n                                    />\r\n                                </Form.Group>\r\n                                { loading && <Loading size={ 50 } /> }\r\n                                <Button variant=\"primary\" type=\"submit\" style={ { marginTop: 10 } }>\r\n                                    Update Event\r\n                                </Button>\r\n                                <Button\r\n                                    className=\"mx-2\"\r\n                                    variant=\"danger\"\r\n                                    onClick={ () => deleteHandler( match.params.id )\r\n                                    }\r\n                                    style={ { marginTop: 10 } }\r\n                                >\r\n                                    Delete Event\r\n                                </Button>\r\n                            </Form>\r\n                        </Col>\r\n                        <Col\r\n                            style={ {\r\n                                display: \"flex\",\r\n                                alignItems: \"center\",\r\n                                justifyContent: \"center\",\r\n                            } }\r\n                        >\r\n                            <img src={ pic } alt={ title } className=\"eventPic\" />\r\n                        </Col>\r\n                    </Row>\r\n                </Card.Body>\r\n                <Card.Footer className=\"text-muted\">\r\n                    Updated on - { date.substring( 0, 10 ) }\r\n                </Card.Footer>\r\n            </Card>\r\n        </MainScreen>\r\n    );\r\n}\r\n\r\nexport default SingleEvent;;"]},"metadata":{},"sourceType":"module"}